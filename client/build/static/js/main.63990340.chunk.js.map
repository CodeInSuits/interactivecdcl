{"version":3,"sources":["utils/restClient.js","components/ClauseForm.js","components/ClauseNum.js","components/Graph.js","components/ClauseVisualizer.js","App.js","index.js"],"names":["getDotStr","a","async","axios","get","response","data","console","log","postClauses","clauses","post","sendToServer","values","fakeCheckValidClause","name","instance","debounce","Promise","resolve","setTimeout","InputField","React","forwardRef","props","ref","splitFormProps","field","fieldOptions","rest","useField","meta","error","isTouched","isValidating","getInputProps","ClauseForm","useForm","onSubmit","Form","isSubmitting","canSubmit","validate","type","disabled","className","onClick","onPrevClick","onNextClick","ClauseNum","state","numClauses","nodeColors","colors","colorIndex","increase","this","setState","prevState","pop","event","num","target","parseInt","value","newNodeColors","i","push","adjustNumClauses","onChange","changeNumClauses","readOnly","map","color","index","style","backgroundColor","Component","Graph","dotStr","d3","graphviz","renderDot","setGraph","src","ClauseVisualizer","Grid","Row","Col","sm","Button","bsStyle","onEditClauseClick","App","currentStep","nextStep","prevStep","resetStep","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.63990340.chunk.js","sourcesContent":["import axios from 'axios'\n\n// function that pings server for testing\nexport function pingServer(logMessage) {\n    console.log(logMessage);\n    axios.get('/ping')\n    .then(function (response) {\n        console.log('SUCCESS', response);\n    })\n    .catch(function (error) {\n        console.log('ERROR', error);\n    });\n}\n\n// get a dot string from server for test rendering\nexport async function getDotStr() {\n    try {\n        const response = await axios.get('/dotstr');\n        return response.data.data;\n    }\n    catch (err) {\n        console.log('Error', err)\n    }\n}\n\n// send form data input to server \nexport async function postClauses(clauses) {\n    try {\n        const response = await axios.post('/clauses', clauses);\n        return response;\n    }\n    catch (err) {\n        console.log('Error', err)\n    }\n}\n ","import React from \"react\";\nimport { useForm, useField, splitFormProps } from \"react-form\";\nimport { postClauses } from '../utils/restClient'\n\nasync function sendToServer(values) {\n    console.log('input is ',values);\n    const response = await postClauses(values);\n    console.log('response is ', response);\n}\n  \nasync function fakeCheckValidClause(name, instance) {\n    if (!name) {\n        return \"A clause is required\";\n    }\n\n    return instance.debounce(async () => {\n        console.log(\"checking clause\");\n        await new Promise(resolve => setTimeout(resolve, 1000));\n        // All names are valid, so return a false error\n        return false;\n    }, 500);\n}\n  \nconst InputField = React.forwardRef((props, ref) => {\n    // Let's use splitFormProps to get form-specific props\n    const [field, fieldOptions, rest] = splitFormProps(props);\n\n    // Use the useField hook with a field and field options\n    // to access field state\n    const {\n        meta: { error, isTouched, isValidating },\n        getInputProps\n    } = useField(field, fieldOptions);\n\n    // Build the field\n    return (\n        <>\n        <input {...getInputProps({ ref, ...rest })} />{\" \"}\n        {isValidating ? (\n            <em>Validating...</em>\n        ) : isTouched && error ? (\n            <em>{error}</em>\n        ) : null}\n        </>\n    );\n});\n\nexport function ClauseForm(props) {\n    // Use the useForm hook to create a form instance\n    const {\n        Form,\n        meta: { isSubmitting, canSubmit }\n    } = useForm({\n        onSubmit: async (values, instance) => {\n            // onSubmit (and everything else in React Form)\n            // has async support out-of-the-box\n            await sendToServer(values);\n            console.log(\"Huzzah!\");\n        },\n        // debugForm: true\n    });\n\n    return (\n        <div>\n            <Form>\n                <div>\n                    <label>\n                    Clause1: <InputField field=\"clause\" validate={fakeCheckValidClause} />\n                    </label>\n                    <label>\n                    Clause2: <InputField field=\"clause2\" validate={fakeCheckValidClause} />\n                    </label>\n                    <label>\n                    Clause3: <InputField field=\"clause3\" validate={fakeCheckValidClause} />\n                    </label>\n                </div>\n                <div>\n                    <button type=\"submit\" disabled={!canSubmit}>\n                    Submit\n                    </button>\n                </div>\n\n                <div>\n                    <em>{isSubmitting ? \"Submitting...\" : null}</em>\n                </div>\n            </Form>\n            <button className=\"prev-button\" onClick={props.onPrevClick}>Prev Step</button>\n            <button className=\"next-button\" onClick={props.onNextClick}>Next Step</button>\n        </div>    \n    );\n}","import React, { Component } from 'react';\nimport '../css/ClauseNum.css';\n\nclass ClauseNum extends Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      numClauses : 1,\n      nodeColors : ['#494947'],\n      colors : ['#494947', '#35FF69', '#44CCFF', '#7494EA', '#D138BF' ],\n      colorIndex : 0,\n    };\n  }\n\n  adjustNumClauses (increase) {\n    if (increase) {\n      this.setState(prevState => (\n        {\n          nodeColors : [...prevState.nodeColors,\n          prevState.colors[prevState.colorIndex % 4]],\n          colorIndex : prevState.colorIndex + 1,\n          numClauses : prevState.numClauses + 1,\n        })\n      );\n    }\n    else {\n      if (this.state.numClauses >= 1) {\n        this.state.nodeColors.pop();\n        this.setState(prevState => (\n          {\n            nodeColors : prevState.nodeColors,\n            colorIndex : prevState.colorIndex - 1,\n            numClauses : prevState.numClauses - 1,\n          })\n        );\n      }\n    }\n  }\n\n  changeNumClauses (event) {\n    const num = event.target.type === 'number' ? parseInt(event.target.value) : event.target.value;\n    let newNodeColors = [];\n\n    for (let i = 0; i < num; i++) {\n      newNodeColors.push(this.state.colors[i % 4]);\n    }\n\n    this.setState(prevState => (\n      {\n        nodeColors : newNodeColors,\n        colorIndex : num,\n        numClauses : num\n      })\n    );\n    this.setState({ numClauses : event.target.type === 'number' ? parseInt(event.target.value) : event.target.value });\n  }\n\n  render() {\n    return (\n      <div className=\"graph-input-container\">\n        <h3>Number of clauses</h3>\n        <div className=\"num-clauses-container\">\n          <button disabled={this.state.numClauses===1} className=\"quantity-button\" onClick={() => this.adjustNumClauses(false) }>-</button>\n          <div className=\"quantity\">\n            <input className=\"quantity-input\" type=\"number\" value={this.state.numClauses} onChange={(event) => this.changeNumClauses(event)} readOnly/>\n          </div>\n          <button disabled={this.state.numClauses===20} className=\"quantity-button\" onClick={() => this.adjustNumClauses(true) }>+</button>\n        </div>\n        <div className=\"node-container\">\n          { this.state.nodeColors.map((color, index) => {\n            return <div className=\"node\" style={{ backgroundColor : color }}>\n                X<sub>{ index + 1 }</sub>\n              </div>\n          }) }\n        </div>\n        <button className=\"next-button\" onClick={this.props.onNextClick}>Next Step</button>\n      </div>\n    );\n  }\n}\n\nexport default ClauseNum;","import React, { Component } from 'react';\nimport * as d3 from 'd3'\nimport * as d3Graphviz from 'd3-graphviz';\n\nclass Graph extends Component {\n\n  constructor(props){\n    super(props);\n  }\n  \n  setGraph() {\n    console.log('In Graph component DOT source =', this.props.dotStr);\n    d3.select(\".graph\").graphviz().renderDot(this.props.dotStr);\n  }\n\n  componentDidUpdate() {\n      this.setGraph();\n  }\n\n  render() {\n    return (\n        <div className=\"graph\">\n            <script src=\"https://unpkg.com/viz.js@1.8.0/viz.js\" type=\"javascript/worker\"></script>\n        </div>\n    );\n  }\n}\n\nexport default Graph;","import React, { Component } from 'react';\nimport { getDotStr } from '../utils/restClient';\nimport Graph from './Graph';\nimport { Button, Grid, Row, Col } from 'react-bootstrap';\n\n\nclass ClauseVisualizer extends Component {\n\n  constructor(props){\n    super(props);\n    this.state = {\n      dotStr: '',\n    };\n  }\n  \n  async setGraph() {\n    const dotStr = await getDotStr();\n    console.log('DOT source =', dotStr);\n    this.setState({dotStr})\n    console.log(this.state.dotStr)\n  }\n\n  render() {\n      return (\n        <Grid className=\"App\">\n            <Row>\n            <Col sm={3}>\n                <Button bsStyle=\"primary\" onClick={this.props.onEditClauseClick}>\n                Edit clause\n                </Button>\n            </Col>\n            <Col sm={9}>\n                <Graph\n                dotStr={this.state.dotStr}\n                />\n                { this.state.dotStr && <div className=\"graph-steps-container\">\n                <div>\n                    <Button bsStyle=\"primary\">\n                    Prev step\n                    </Button>\n                </div>\n                <div>\n                    <Button bsStyle=\"primary\">\n                    Step\n                    </Button>\n                </div>\n                </div> }\n            </Col>\n            </Row>\n            <Button className=\"square\" onClick={() => this.setGraph()}>\n            {'Click me'}\n            </Button>\n        </Grid>\n      );\n  }\n}\n\nexport default ClauseVisualizer;","import React, { Component } from 'react';\nimport './App.css';\nimport { ClauseForm } from './components/ClauseForm';\nimport ClauseNum from './components/ClauseNum';\nimport ClauseVisualizer from './components/ClauseVisualizer';\n\n\nclass App extends Component {\n\n  constructor(props){\n    super(props);\n    this.state = {\n      currentStep: 0,\n    };\n  }\n\n  nextStep() {\n    this.setState({currentStep: this.state.currentStep+1});\n  }\n\n  prevStep() {\n    this.setState({currentStep: this.state.currentStep-1});\n  }\n\n  resetStep() {\n    this.setState({currentStep: 0});\n  }\n\n  render() {\n    return (\n      <div className=\"graph-input-wrapper\">\n        { this.state.currentStep == 0 && <ClauseNum onNextClick={() => this.nextStep()}/> }\n        { this.state.currentStep == 1 && <ClauseForm onNextClick={() => this.nextStep()} onPrevClick={() => this.prevStep()}/> }\n        { this.state.currentStep == 2 && <ClauseVisualizer onEditClauseClick={() => this.resetStep()}/> }\n      </div>\n    );\n  }\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n// import registerServiceWorker from './registerServiceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n// registerServiceWorker();\n"],"sourceRoot":""}