(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{118:function(e,t,n){e.exports=n(191)},123:function(e,t,n){},125:function(e,t,n){},126:function(e,t,n){},134:function(e,t){},135:function(e,t,n){},191:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(104),c=n.n(s),u=(n(123),n(2)),i=n.n(u),l=n(111),o=n(32),p=n(33),m=n(36),d=n(34),h=n(37),v=(n(125),n(112)),f=n(58),b=(n(126),n(59)),E=/^ *(?:not )?x\d+(?: or (?:not )?x\d+)* *$/;function y(e,t){return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=2;break}return n.abrupt("return","A clause is required");case 2:return n.abrupt("return",t.debounce((function(){return!E.test(e)&&"Make sure to use all lower case letters, all your variables begin with x, and since it's CNF form, you can only use 'not' and 'or' in your clauses"}),500));case 3:case"end":return n.stop()}}))}function g(e){var t=Object(b.a)(e),n=Object(f.a)(t,3),a=n[0],s=n[1],c=n[2],u=Object(b.b)(a,s),i=u.meta,l=i.error,o=i.isTouched,p=i.isValidating,m=u.getInputProps;return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",m(Object(v.a)({},c)))," ",p?r.a.createElement("em",null,"Validating..."):o&&l?r.a.createElement("em",null,l):null)}function S(e){var t=Object(b.c)({onSubmit:function(t,n){return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:e.onSubmit(t);case 1:case"end":return n.stop()}}))}}),n=t.Form,a=t.meta,s=a.isSubmitting,c=a.canSubmit;return r.a.createElement("div",{className:"graph-input-container"},r.a.createElement(n,{className:"form-clauses-container"},r.a.createElement("div",null,r.a.createElement("label",null,"Clause 1: ",r.a.createElement(g,{placeholder:"e.g. x1 or not x2 or x5",field:"clause1",validate:y})),r.a.createElement("div",{className:"dynamic-inputs"},e.inputs.map((function(t,n){return r.a.createElement("label",{key:t},"Clause ",n+2,":\xa0",r.a.createElement(g,{placeholder:"e.g. x1 or not x2 or x5",field:t,key:t,validate:y}),r.a.createElement("button",{type:"button",onClick:function(){return e.onDeleteInput(t)}},"x"))})))),r.a.createElement("div",{className:"add-input"},r.a.createElement("button",{type:"button",className:"add-button",onClick:e.onAddInput},"+")),r.a.createElement("div",{className:"submit-form"},r.a.createElement("button",{className:"submit-button",type:"submit",disabled:!c},"Submit"),r.a.createElement("div",null,r.a.createElement("em",null,s?"Submitting...":null)))))}var x=n(110),k=(n(127),function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(h.a)(t,e),Object(p.a)(t,[{key:"setGraph",value:function(){console.log("In Graph component DOT source =",this.props.dotStr),x.a(".graph").graphviz().renderDot(this.props.dotStr)}},{key:"componentDidMount",value:function(){this.setGraph()}},{key:"componentDidUpdate",value:function(){this.setGraph()}},{key:"render",value:function(){return r.a.createElement("div",{className:"graph"},r.a.createElement("script",{src:"https://unpkg.com/viz.js@1.8.0/viz.js",type:"javascript/worker"}))}}]),t}(a.Component)),I=n(193),j=(n(135),function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={clauseStrs:e.clauseInfo.data.clauses,graphStrs:e.clauseInfo.data.graphs,graphIndex:0},n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"prevDotStr",value:function(){this.setState((function(e){return{graphIndex:e.graphIndex-1}}))}},{key:"nextDotStr",value:function(){this.setState((function(e){return{graphIndex:e.graphIndex+1}}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"clause-visualizer"},r.a.createElement("div",{className:"edit-clauses-wrapper"},r.a.createElement("div",{className:"edit-clauses-container"},r.a.createElement("div",{className:"clause-strs"},Object.entries(this.state.clauseStrs).map((function(e){var t=Object(f.a)(e,2),n=t[0],a=t[1];return r.a.createElement("div",{key:n},r.a.createElement("label",null,n),"\xa0\xa0\xa0",r.a.createElement("label",null,a))}))),r.a.createElement(I.a,{bsStyle:"primary",onClick:this.props.onResetClauseClick},"Reset clause"))),r.a.createElement("div",{className:"graph-wrapper"},r.a.createElement("div",{className:"graph-container"},r.a.createElement(k,{dotStr:this.state.graphStrs[this.state.graphIndex]}),r.a.createElement("div",{className:"graph-steps-container"},r.a.createElement("div",{className:"button-container"},r.a.createElement("div",null,r.a.createElement(I.a,{bsStyle:"primary",onClick:function(){return e.prevDotStr()},disabled:0===this.state.graphIndex},"Prev step")),r.a.createElement("div",null,r.a.createElement(I.a,{bsStyle:"primary",onClick:function(){return e.nextDotStr()},disabled:this.state.graphIndex===this.state.graphStrs.length-1},"Next step")))))))}}]),t}(a.Component)),O=n(60),C=n.n(O);function N(e){var t;return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,i.a.awrap(C.a.post("/clauses",e));case 3:return t=n.sent,n.abrupt("return",t);case 7:n.prev=7,n.t0=n.catch(0),console.log("Error",n.t0);case 10:case"end":return n.stop()}}),null,null,[[0,7]])}var w=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={currentStep:0,inputs:[],inputIndex:2,serverResponse:null},n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"parseForm",value:function(e){var t={};t.clause1=e.clause1;for(var n=2,a=0;a<this.state.inputs.length;a++){var r=this.state.inputs[a];e[r]&&(t["clause".concat(n++)]=e[r])}return t}},{key:"visualizeClauses",value:function(e){this.setState({currentStep:this.state.currentStep+1,serverResponse:e})}},{key:"resetClauses",value:function(){this.setState({currentStep:0,inputs:[],inputIndex:2,serverResponse:null})}},{key:"appendInput",value:function(){var e="clause".concat(this.state.inputIndex);this.setState((function(t){return{inputs:t.inputs.concat([e]),inputIndex:t.inputIndex+1}}))}},{key:"deleteInput",value:function(e){var t=Object(l.a)(this.state.inputs),n=t.indexOf(e);n>-1&&t.splice(n,1),this.setState({inputs:t})}},{key:"onSubmit",value:function(e){var t;return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.a.awrap(N(this.parseForm(e)));case 2:(t=n.sent)?(console.log(t),this.visualizeClauses(t)):alert("Server failed to give a response. Please try different clauses");case 4:case"end":return n.stop()}}),null,this)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"graph-input-wrapper"},0===this.state.currentStep&&r.a.createElement(S,{inputs:this.state.inputs,onAddInput:function(){return e.appendInput()},onDeleteInput:function(t){return e.deleteInput(t)},onSubmit:function(t){return e.onSubmit(t)}}),1===this.state.currentStep&&!!this.state.serverResponse&&r.a.createElement(j,{clauseInfo:this.state.serverResponse,onResetClauseClick:function(){return e.resetClauses()}}))}}]),t}(a.Component);n(190);c.a.render(r.a.createElement(w,null),document.getElementById("root"))},86:function(e,t){},87:function(e,t){}},[[118,1,2]]]);
//# sourceMappingURL=main.255998f0.chunk.js.map